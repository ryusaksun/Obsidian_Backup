GraphCut 和 GrabCut 是两个非常经典的基于图论（Graph Theory）的图像分割算法。它们的核心思想是把图像分割问题变成一个"剪断绳子"的数学问题。

简单来说，它们把像素看作图的节点，把相似度看作边的粗细，通过剪断最细的边（最小割）来实现前景和背景的完美分离。

## 1. GraphCut：剪断最细的连线

GraphCut 是基础，它是一种半自动分割方法。

### 构建图

- 普通节点：图像中的每个像素就是一个节点。

- 终端节点（S 和 T）：增加两个特殊的点，Source（前景/源点）和 Sink（背景/汇点）。

### 连线（边）

- t-link（终端连接）：每个像素都分别连一根线到 S 点和 T 点。线的粗细（权重）取决于该像素更像前景还是更像背景（基于用户画的种子点）。

- n-link（邻域连接）：相邻像素之间也连线。如果两个像素颜色很像，线就很粗（很难剪断）；如果颜色差异大，线就很细（容易剪断）。

### 最小割（Min-Cut）

- 算法的目标是找到一种剪法，把所有像素要么归类给 S（前景），要么归类给 T（背景）。

- 原则：剪断的边的总粗细（能量函数）必须最小。

- 结果：因为颜色差异大的地方线最细，所以算法会自动沿着边缘把图剪开。

## 2. GrabCut：GraphCut 的升级版

GrabCut 是在 GraphCut 基础上优化的，它更智能，用户操作更简单。

### 交互更少

- GraphCut：通常需要用户用笔在前景画一道，背景画一道（指定种子点）。

- GrabCut：只需要用户画一个矩形框，框住你想抠的物体。算法默认框外是背景，框内是"未知"（可能是前景也可能是背景）。

### 引入 GMM（高斯混合模型）

- GrabCut 不仅仅看像素差异，它还会学习。它用 GMM 去分析框内和框外的颜色分布，自动估计"什么是前景色的特征，什么是背景色的特征"。

### 迭代优化

- 这是 GrabCut 的灵魂。它不是一次算完，而是反复横跳：

    1. 先假定一个分类，算 GMM。

    2. 根据 GMM 更新图的权重，做一次 GraphCut。

    3. 根据剪出来的结果，更新 GMM。

    4. 重复上述步骤，直到结果不再变化。

- 效果：分割结果会越来越贴合边缘，甚至能抠出头发丝的间隙。

## 总结对比

| 特性 | GraphCut | GrabCut |
|:---|:---|:---|
| 交互方式 | 画笔涂抹（指定前景/背景点） | 画一个框（更简单） |
| 核心算法 | 最小割（Max-Flow/Min-Cut） | 迭代最小割 + GMM |
| 颜色模型 | 基于灰度/直方图（较简单） | 高斯混合模型（更精准描述颜色） |
| 适用场景 | 简单的交互分割 | 精细抠图（如 Photoshop 的主体选择） |

## 一句话总结

GraphCut 是拿着剪刀找最细的地方剪；GrabCut 是先大概框一下，然后算法自己反复学习颜色特征，最后精细地剪出来。

---

**<font color="#2ecc71">✅ 已格式化</font>**
