在 Linux (Ubuntu) 中，要检查用户信息、组和权限，你可以通过以下几种命令来实现。

## 1. 检查用户所在组 (Group)

最简单的方法是使用 `groups` 或 `id` 命令。

- **查看当前用户的组**：
    
    bash
    
    `groups`
    
    或者获取更详细的 ID 信息（推荐）：
    
    bash
    
    `id`
    
    _输出解释：_
    
    - `uid=1000(ryuichi)`：用户 ID。
        
    - `gid=1000(ryuichi)`：主组 ID。
        
    - `groups=1000(ryuichi),27(sudo),...`：所属的所有组。如果你在这里看到了 **sudo** 或 **wheel**，说明该用户拥有管理员权限 。stackoverflow+1​
        
- **查看特定用户的组**：
    
    bash
    
    `groups <用户名> # 例如： groups ryuichi`
    

## 2. 检查用户是否有 Sudo (管理员) 权限

除了看组信息，最准确的方法是使用 `sudo` 命令自带的检查功能。

- **检查当前用户权限**：
    
    bash
    
    `sudo -l`
    
    系统会要求输入密码，然后列出你具体能执行哪些命令。如果看到 `(ALL : ALL) ALL`，说明拥有完全的管理员权限 。[stackoverflow](https://stackoverflow.com/questions/64848619/how-to-check-if-user-has-sudo-privileges-inside-the-bash-script)​
    
- **检查特定用户的权限**（需要管理员权限）：
    
    bash
    
    `sudo -l -U <用户名>`
    

## 3. 列出系统中的所有用户

Linux 系统中存储用户的文件是 `/etc/passwd`。

- **列出所有用户（包括系统用户）**：  
    这个命令会列出很多像 `daemon`, `bin` 这样的系统内置账户，通常比较乱。
    
    bash
    
    `cut -d: -f1 /etc/passwd`
    
- **只列出“真人”用户（推荐）**：  
    普通用户的 UID 通常是从 1000 开始的，可以通过查看 `/etc/login.defs` 里的 `UID_MIN` 来确定 。[linuxize](https://linuxize.com/post/how-to-list-users-in-linux/)​  
    可以使用以下命令过滤出 UID 大于等于 1000 的用户：
    
    bash
    
    `awk -F: '$3 >= 1000 {print $1}' /etc/passwd`
    
    _解释：这个命令会扫描 `/etc/passwd` 文件，打印出第 3 列（UID）大于等于 1000 的用户名。_
    

## 总结常用命令表

|目的|命令|
|---|---|
|**查看我是谁**|`whoami`|
|**查看我的详细信息 (UID/GID)**|`id`|
|**查看某个用户的组**|`groups <用户名>`|
|**查看我有无管理员权限**|`sudo -l`|
|**查看所有“真人”用户**|`awk -F: '$3>=1000{print $1}' /etc/passwd`|

1. [https://stackoverflow.com/questions/64848619/how-to-check-if-user-has-sudo-privileges-inside-the-bash-script](https://stackoverflow.com/questions/64848619/how-to-check-if-user-has-sudo-privileges-inside-the-bash-script)
2. [https://www.baeldung.com/linux/check-sudo-access](https://www.baeldung.com/linux/check-sudo-access)
3. [https://linuxize.com/post/how-to-list-users-in-linux/](https://linuxize.com/post/how-to-list-users-in-linux/)
4. [https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/152616778/3d949d18-d551-4bfe-84b6-4a61b78092f0/image.jpg](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/152616778/3d949d18-d551-4bfe-84b6-4a61b78092f0/image.jpg)
5. [https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/152616778/eee834de-f5bc-425c-b002-f21d3ffd6d11/image.jpg](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/152616778/eee834de-f5bc-425c-b002-f21d3ffd6d11/image.jpg)
6. [https://qiita.com/shin4488/items/eb5cd6db669380fae774](https://qiita.com/shin4488/items/eb5cd6db669380fae774)
7. [https://kodekloud.com/blog/how-to-list-all-groups-in-linux/](https://kodekloud.com/blog/how-to-list-all-groups-in-linux/)
8. [https://www.warp.dev/terminus/linux-list-users](https://www.warp.dev/terminus/linux-list-users)
9. [https://stackoverflow.com/questions/2835368/how-to-list-all-users-in-a-linux-group](https://stackoverflow.com/questions/2835368/how-to-list-all-users-in-a-linux-group)
10. [https://serveracademy.com/blog/linux-list-groups/](https://serveracademy.com/blog/linux-list-groups/)
11. [https://learnubuntu.com/list-users/](https://learnubuntu.com/list-users/)
12. [https://www.baeldung.com/linux/list-users-in-group](https://www.baeldung.com/linux/list-users-in-group)
13. [https://petri.com/linux-list-all-groups/](https://petri.com/linux-list-all-groups/)
14. [https://en.oceanbase.com/docs/enterprise-oceanbase-ocp-en-10000000000391983](https://en.oceanbase.com/docs/enterprise-oceanbase-ocp-en-10000000000391983)
15. [https://stackoverflow.com/questions/39482163/list-all-linux-users-without-systen-users](https://stackoverflow.com/questions/39482163/list-all-linux-users-without-systen-users)
16. [https://www.geeksforgeeks.org/linux-unix/how-to-check-the-groups-a-user-belongs-to-in-linux/](https://www.geeksforgeeks.org/linux-unix/how-to-check-the-groups-a-user-belongs-to-in-linux/)
17. [https://labex.io/ko/tutorials/linux-how-to-check-user-sudo-access-rights-418166](https://labex.io/ko/tutorials/linux-how-to-check-user-sudo-access-rights-418166)