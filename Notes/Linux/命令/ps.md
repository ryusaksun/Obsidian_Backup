`ps` 是 Process Status（进程状态）的缩写，它是 Linux 系统中用于查看当前瞬间进程状态的快照工具。

你可以把它想象成给系统拍一张 X 光片，让你看到此刻系统里正在运行哪些程序、谁在运行、消耗了多少资源。

## 1. 两大核心流派 (重要)

`ps` 比较特殊，它融合了 Unix 系统的两个历史分支（System V 和 BSD），所以你会看到两种风格的参数写法，如果不小心混用可能会报错或行为不符合预期。

- Unix 风格 (带 `-`）：例如 `ps -ef`。
- BSD 风格 (不带 `-`）：例如 `ps aux`。

这两个命令虽然参数不同，但核心功能几乎是一样的，只是输出格式略有区别。你只需要熟练掌握其中一种即可（大部分运维习惯用 `ps -ef`，老手可能偏爱 `ps aux`）。

---

## 2. 常用命令组合 (必背)

### 方案 A：`ps -ef` (推荐新手)

这是最标准的 Unix 写法，输出整齐，适合配合 `grep` 查找。

```bash
ps -ef
```

- -e：显示所有进程 (Equal to -A)。
- -f：显示完整格式 (Full-format)，能看到 PID、PPID、启动时间等。

输出列含义：

- UID：谁启动的？
- PID：进程 ID (杀进程就靠它)。
- PPID：父进程 ID (是谁启动了它)。
- C：CPU 使用率。
- STIME：启动时间。
- CMD：具体的命令是什么。

### 方案 B：`ps aux` (BSD 风格)

这个写法的优点是能<font color="#00b0f0">直接看到 CPU 和 内存的百分比</font>。

```bash
ps aux
```

- a：显示所有用户的进程 (All)。
- u：以用户为主的格式输出 (User)，包含 %CPU, %MEM。
- x：<font color="#00b0f0">显示没有控制终端的进程 (通常是后台服务)</font>。

输出列含义 (比 -ef 多的关键点）：

- %CPU：CPU 占用率。
- %MEM：内存占用率。
- STAT：进程状态 (R=运行, S=睡眠, Z=僵尸)。

---

## 3. 常见实战用法

### 1. 查找特定进程

最经典的"管道+grep"组合。

```bash
ps -ef | grep nginx
```

- 作用：看看 Nginx 服务有没有在跑，PID 是多少。

### 2. 查看最耗资源的进程

```bash
ps aux --sort=-%cpu | head -5
```

- 作用：按 CPU 使用率倒序排列，只看前 5 个（最吃 CPU 的那几个）。

### 3. 查看父子进程关系

```bash
ps -ejH
```

- 作用：以树状结构显示，能清晰看出谁是谁的子进程。或者直接用 `pstree` 命令更直观。

## 总结

- 想查 PID 或找进程：用 `ps -ef | grep 名字`。
- 想看谁占了内存/CPU：用 `ps aux`。
- 它是静态的：`ps` 只能看执行命令那一瞬间的状态。如果你想看动态变化的（像 Windows 任务管理器那样跳动的），请用 `top` 命令。

---

**<font color="#2ecc71">✅ 已格式化</font>**
