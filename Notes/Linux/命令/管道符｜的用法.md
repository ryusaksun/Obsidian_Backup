管道符 `|` 是 Linux 命令行中最具魔力的工具之一，它体现了 Unix 哲学的核心思想：让每个程序只做一件事并做好它，然后通过文本流将它们连接起来。

简单来说，管道符的作用是将前一个命令的标准输出 (Standard Output) 直接作为后一个命令的标准输入 (Standard Input)。

## 1. 基础概念

- 符号：`|` (通常在键盘回车键上方)
- 流向：`Command A | Command B | Command C`
    - Command A 产生的数据 -> 流入 -> Command B 处理 -> 流入 -> Command C 处理 -> 显示在屏幕上。
- 形象比喻：就像工厂流水线，第一个工人（命令A）加工完零件，不扔在地上，而是直接放在传送带（管道）上，传给第二个工人（命令B）继续加工。

## 2. 经典用法场景

### 场景一：分页查看长输出 (`less` / `more`)

当命令结果太长（比如几千行），屏幕一闪而过看不清时。

```bash
# 列出 /etc 下所有文件（通常很多），通过管道传给 less 分页看
ls -l /etc | less
```

### 场景二：过滤筛选数据 (`grep`)

这是最常用的组合，用于从海量信息中提取你关心的那几行。

```bash
# 查看所有进程，过滤出只包含 "python" 的进程
ps -ef | grep python

# 查看网络连接，只看 80 端口的
netstat -an | grep :80
```

### 场景三：统计数量 (`wc`)

`wc -l` 用于计算行数。

```bash
# 统计当前目录下有多少个文件
ls -l | wc -l

# 统计当前系统有多少个用户（通过看 /etc/passwd 有多少行）
cat /etc/passwd | wc -l
```

### 场景四：提取特定列 (`awk` / `cut`)

```bash
# 获取当前所有运行进程的 PID（进程号，通常是第2列）
ps -ef | awk '{print $2}'
```

## 3. 高级与注意事项

- 管道只能传递"标准输出"：默认情况下，错误信息 (Standard Error) 不会通过管道传递。
    - 例子：如果 `cmd1` 报错了，错误信息会直接打印在屏幕上，`cmd2` 收不到这个错误信息。
    - 解决方法：使用 `2>&1` 将错误重定向到标准输出。

```bash
cmd1 2>&1 | cmd2
```

- xargs 的配合：有些命令（如 `rm`, `kill`）不接受"标准输入"作为参数，只接受命令行参数。这时需要配合 `xargs`。
    - 错误写法：`find . -name "*.tmp" | rm` (rm 看不到文件名)
    - 正确写法：`find . -name "*.tmp" | xargs rm` (xargs 把文件名拿出来拼接到 rm 后面)

## 总结

管道符 `|` 是连接 Linux 命令的胶水。掌握了它，你就可以把成百上千个简单的命令组合成强大的自动化工具。

---

**<font color="#2ecc71">✅ 已格式化</font>**
